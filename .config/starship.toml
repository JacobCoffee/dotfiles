format = """
$kubernetes\
$directory\
$git_branch\
$git_status\
$package\
$python\
$bun\
$nodejs\
$rust\
$terraform\
$helm\
$docker_context\
$custom\
$direnv
$character"""

command_timeout = 10000

# Right-side prompt with git metrics, time, and command duration
right_format = '$git_metrics$cmd_duration$time'

# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

# Inserts a blank line between shell prompts
add_newline = true

# Replace the "â¯" symbol in the prompt with "âžœ"
[character] # The name of the module we are configuring is "character"
success_symbol = "[âžœ](bold green)" # The "success_symbol" segment is being set to "âžœ" with the color "bold green"
error_symbol = "[âœ—](bold red)"     # used if previous command failed

# Displays status of Git repository when in a directory of a Git repository
[git_metrics]
format = '([â–´$added]($added_style))([â–¿$deleted]($deleted_style)) '
added_style = 'italic dimmed green'
deleted_style = 'italic dimmed red'
disabled = false

[git_status]
format = '[$all_status$ahead_behind]($style) [â”‚](dimmed white) '
conflicted = '[!](bold red)'
ahead = '[â‡¡${count}](green)'
diverged = '[â‡¡${ahead_count}â‡£${behind_count}](yellow)'
behind = '[â‡£${count}](red)'
up_to_date = '[âœ“](dimmed green)'
untracked = '[?](dimmed yellow)'
stashed = '[â‰¡](dimmed cyan)'
modified = '[~](yellow)'
staged = '[+${count}](green)'
renamed = '[â†’](blue)'
deleted = '[x](red)'

[git_state]
format = '[\($state( $progress_current of $progress_total)\)]($style) '
cherry_pick = '[ðŸ’ PICKING](bold red)'

[git_commit]
commit_hash_length = 4
tag_symbol = 'ðŸ”– '

[os.symbols]
Macos = "ðŸŽ "


[git_branch]
symbol = ' '
format = '[$symbol$branch]($style) '
truncation_length = 20
truncation_symbol = 'â€¦'
style = 'bold purple'
ignore_branches = ['master', 'main']


[directory]
read_only = " "
format = '[$path]($style)[$read_only]($read_only_style) [â”‚](dimmed white)'

[kubernetes]
format = '[$symbol$context](bold $style) [â”‚](dimmed white) '
symbol = 'âŽˆ '
disabled = false
detect_files = ['Chart.yaml', 'helmfile.yaml', 'kustomization.yaml', 'k8s.yaml', 'deployment.yaml']
detect_folders = ['kubernetes', 'k8s', 'helm', 'charts', 'manifests']
detect_extensions = []
# Color based on context - red for prod, green for local
[[kubernetes.contexts]]
context_pattern = 'orbstack'
style = 'green'
symbol = 'âŽˆ '
context_alias = 'local'

[[kubernetes.contexts]]
context_pattern = '.*-cabotage.*'
style = 'bold red'
symbol = 'âš  '

[docker_context]
format = '[ðŸ‹ $context](blue bold) '

[java]
symbol = 'ðŸŒŸ '

[nix_shell]
disabled = true
impure_msg = '[impure shell](bold red)'
pure_msg = '[pure shell](bold green)'
unknown_msg = '[unknown shell](bold yellow)'
format = '[â˜ƒï¸ $state( \($name\))](bold blue) '

[bun]
symbol = "ðŸ¥Ÿ "
format = '[$symbol$version](bold pink) [â”‚](dimmed white) '
detect_files = ["bun.lockb", "bunfig.toml", "bun.lock"]

[nodejs]
format = '[â¬¢ $version](bold green) [â”‚](dimmed white) '

[package]
format = '[ó°— $version](208 bold) [â”‚](dimmed white) '

[python]
symbol = 'ðŸ '
pyenv_version_name = false
detect_files = ['.python-version', 'pyproject.toml', 'uv.lock']
python_binary = ['.venv/bin/python', 'python3', 'python']
format = '[${symbol}${version}( \($virtualenv\))]($style) [â”‚](dimmed white) '

[direnv]
disabled = false
format = '[$symbol$allowed]($style) '
symbol = '  '
style = 'bold yellow'
allowed_msg = ''
not_allowed_msg = '!'
denied_msg = 'âœ—'

[rust]
format = '[ðŸ¦€ $version](red bold) [â”‚](dimmed white) '

[terraform]
format = '[ó±¢ $workspace]($style) '
symbol = 'ó±¢ '
style = 'bold 105'

[helm]
format = '[âŽˆ $version]($style) '
style = 'bold white'

[custom.mise]
command = 'mise current 2>/dev/null | cut -d" " -f1-2 | tr "\n" " "'
when = 'test -f .mise.toml || test -f mise.toml'
format = '[ó±“ž $output]($style)'
style = 'bold blue'
description = 'Current mise tools'

[time]
disabled = false
format = '[$time]($style)'
time_format = '%H:%M'
style = 'dimmed white'

[cmd_duration]
min_time = 2000
format = '[ó±Ž« $duration]($style) '
style = 'dimmed yellow'
